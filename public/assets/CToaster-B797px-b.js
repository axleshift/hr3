import{r,_ as y,R as o,a as u,c as x,P as t,b as D,z as V}from"./index-BeQK1wQz.js";import{u as G,T as I,o as O}from"./index-DK7okQj2.js";import{f as J}from"./DefaultLayout-Bv7Siwyk.js";var H=r.createContext({}),M=r.forwardRef(function(e,i){var l=e.children,s=e.animation,n=s===void 0?!0:s,a=e.autohide,w=a===void 0?!0:a,b=e.className,d=e.color,p=e.delay,v=p===void 0?5e3:p,c=e.index,h=e.innerKey,f=e.visible,T=f===void 0?!1:f,C=e.onClose,N=e.onShow,L=y(e,["children","animation","autohide","className","color","delay","index","innerKey","visible","onClose","onShow"]),S=r.useRef(null),j=G(i,S),K=r.useState(!1),R=K[0],g=K[1],E=r.useRef(void 0);r.useEffect(function(){g(T)},[T]);var q={visible:R,setVisible:g};r.useEffect(function(){return function(){return clearTimeout(E.current)}},[]),r.useEffect(function(){P()},[R]);var P=function(){w&&(clearTimeout(E.current),E.current=window.setTimeout(function(){g(!1)},v))};return o.createElement(I,{in:R,nodeRef:S,onEnter:function(){return N&&N(c??null)},onExited:function(){return C&&C(c??null)},timeout:250,unmountOnExit:!0},function(B){var m;return o.createElement(H.Provider,{value:q},o.createElement("div",u({className:x("toast",(m={fade:n},m["bg-".concat(d)]=d,m["border-0"]=d,m["show showing"]=B==="entering"||B==="exiting",m.show=B==="entered",m),b),"aria-live":"assertive","aria-atomic":"true",role:"alert",onMouseEnter:function(){return clearTimeout(E.current)},onMouseLeave:function(){return P()}},L,{key:h,ref:j}),l))})});M.propTypes={animation:t.bool,autohide:t.bool,children:t.node,className:t.string,color:D,delay:t.number,index:t.number,innerKey:t.oneOfType([t.number,t.string]),onClose:t.func,onShow:t.func,visible:t.bool};M.displayName="CToast";var z=r.forwardRef(function(e,i){var l=e.children,s=e.className,n=y(e,["children","className"]);return o.createElement("div",u({className:x("toast-body",s)},n,{ref:i}),l)});z.propTypes={children:t.node,className:t.string};z.displayName="CToastBody";var k=r.forwardRef(function(e,i){var l=e.children,s=e.as,n=y(e,["children","as"]),a=r.useContext(H).setVisible;return s?o.createElement(s,u({onClick:function(){return a(!1)}},n,{ref:i}),l):o.createElement(O,u({onClick:function(){return a(!1)}},n,{ref:i}))});k.propTypes=u(u({},O.propTypes),{as:t.elementType});k.displayName="CToastClose";var A=r.forwardRef(function(e,i){var l=e.children,s=e.className,n=e.closeButton,a=y(e,["children","className","closeButton"]);return o.createElement("div",u({className:x("toast-header",s)},a,{ref:i}),l,n&&o.createElement(k,null))});A.propTypes={children:t.node,className:t.string,closeButton:t.bool};A.displayName="CToastHeader";var F=r.forwardRef(function(e,i){var l=e.children,s=e.className,n=e.placement,a=e.push,w=y(e,["children","className","placement","push"]),b=r.useState([]),d=b[0],p=b[1],v=r.useRef(0);r.useEffect(function(){v.current++,a&&c(a)},[a]);var c=function(h){p(function(f){return V(V([],f,!0),[o.cloneElement(h,{index:v.current,innerKey:v.current,onClose:function(T){return p(function(C){return C.filter(function(N){return N.props.index!==T})})}})],!1)})};return o.createElement(J,{portal:typeof n=="string"},d.length>0||l?o.createElement("div",u({className:x("toaster toast-container",{"position-fixed":n,"top-0":n&&n.includes("top"),"top-50 translate-middle-y":n&&n.includes("middle"),"bottom-0":n&&n.includes("bottom"),"start-0":n&&n.includes("start"),"start-50 translate-middle-x":n&&n.includes("center"),"end-0":n&&n.includes("end")},s)},w,{ref:i}),l,d.map(function(h,f){return o.cloneElement(h,{visible:!0,key:f})})):null)});F.propTypes={children:t.node,className:t.string,placement:t.oneOfType([t.string,t.oneOf(["top-start","top-center","top-end","middle-start","middle-center","middle-end","bottom-start","bottom-center","bottom-end"])]),push:t.any};F.displayName="CToaster";export{F as C,M as a,A as b,z as c};
