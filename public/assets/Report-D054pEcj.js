import{r as c,j as e}from"./index-BregGavu.js";import{a as j}from"./axios-DXsv3KKR.js";import{C as m,a as u}from"./CCardBody--BWERNhg.js";import{C as p}from"./CCardHeader-BeNLNKIv.js";import{C as y,a as C,b as l,e as a,d as b,c as t}from"./CTable-L5YcJro0.js";import{a as f}from"./index-2GwXPYeC.js";const E=()=>{const[s,d]=c.useState([]),[o,i]=c.useState(null);c.useEffect(()=>{(async()=>{try{const n=await j.get("http://localhost:8000/api/payrolls");d(n.data.payrolls)}catch{i("Error fetching payroll data.")}})()},[]);const h=r=>s.reduce((n,x)=>n+Math.round(parseFloat(x[r]||0)),0);return e.jsxs(m,{className:"mb-4",children:[e.jsx(p,{children:e.jsx("strong",{children:"Payroll Report"})}),e.jsxs(u,{children:[o&&e.jsx("div",{style:{color:"red"},children:o}),e.jsxs(y,{hover:!0,bordered:!0,responsive:!0,children:[e.jsx(C,{children:e.jsxs(l,{children:[e.jsx(a,{children:"Employee ID"}),e.jsx(a,{children:"Employee Name"}),e.jsx(a,{children:"Basic Salary"}),e.jsx(a,{children:"Overtime"}),e.jsx(a,{children:"Bonus"}),e.jsx(a,{children:"Deductions"}),e.jsx(a,{children:"Net Salary"}),e.jsx(a,{children:"Payment Method"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"Payment Date"})]})}),e.jsx(b,{className:"text-center",children:s.length>0?s.map(r=>e.jsxs(l,{children:[e.jsx(t,{children:r.employeeId}),e.jsx(t,{children:r.employeeName}),e.jsx(t,{children:Math.round(r.basicSalary)}),e.jsx(t,{children:Math.round(r.overtime)}),e.jsx(t,{children:Math.round(r.bonus)}),e.jsx(t,{children:Math.round(r.deductions)}),e.jsx(t,{children:Math.round(r.netSalary)}),e.jsx(t,{children:r.paymentMethod}),e.jsx(t,{children:r.status}),e.jsx(t,{children:r.created_at?new Date(r.paymentDate).toLocaleDateString():"N/A"})]},r.id)):e.jsx(l,{children:e.jsx(t,{colSpan:"10",style:{textAlign:"center"},children:"No payroll data available"})})}),s.length>0&&e.jsxs(l,{className:"text-center",children:[e.jsx(t,{colSpan:"2",style:{textAlign:"right",fontWeight:"bold"},children:"Total:"}),e.jsx(t,{children:Math.round(h("netSalary"))}),e.jsx(t,{colSpan:"3"})]})]}),e.jsx(f,{color:"primary",onClick:()=>window.print(),children:"Print Report"})]})]})};export{E as default};
