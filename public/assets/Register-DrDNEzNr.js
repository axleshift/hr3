import{r as a,i as A,j as e,L as U,x as k}from"./index-CjY3Wu99.js";import{b as B,F as r,f as w,c as l,a as G}from"./index-BUiZWHIW.js";import{C as T,a as y}from"./CRow-DJekRBla.js";import{C as D,a as O}from"./CCardBody-CUofzSwn.js";import{C as _,a as b}from"./CForm-Qa-17wJc.js";import{C as t,a as o}from"./CInputGroupText-zuH1iMh2.js";import{C as n}from"./CFormInput-CQKlypXO.js";import"./CFormControlWrapper-CF9aZuRb.js";const X=()=>{const[d,R]=a.useState(""),[m,S]=a.useState(""),[u,E]=a.useState(""),[x,q]=a.useState(""),[p,F]=a.useState(""),[h,c]=a.useState(""),[j,g]=a.useState(""),P=A(),I=async s=>{var C,f,N,v;s.preventDefault(),c(""),g("");try{const i=await k.post("http://localhost:8000/api/auth/register",{username:d,name:m,email:u,password:x,password_confirmation:p});g("Registration successful! Redirecting to login..."),setTimeout(()=>P("/login"),2e3)}catch(i){if((f=(C=i.response)==null?void 0:C.data)!=null&&f.errors){const L=Object.values(i.response.data.errors)[0][0];c(L)}else c(((v=(N=i.response)==null?void 0:N.data)==null?void 0:v.message)||"Registration failed. Please try again.")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(B,{children:e.jsx(T,{className:"justify-content-center",children:e.jsx(y,{md:7,lg:6,xl:6,children:e.jsx(D,{className:"mx-4",children:e.jsx(O,{className:"p-4",children:e.jsxs(_,{onSubmit:I,children:[e.jsx("h1",{className:"text-center",children:"Register"}),e.jsx("p",{className:"text-secondary text-center",children:"Create a new account"}),h&&e.jsx(b,{color:"danger",children:h}),j&&e.jsx(b,{color:"success",children:j}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:w})}),e.jsx(n,{type:"text",id:"username",value:d,onChange:s=>R(s.target.value),placeholder:"Username",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:w})}),e.jsx(n,{type:"text",id:"name",value:m,onChange:s=>S(s.target.value),placeholder:"Full Name",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:l})}),e.jsx(n,{type:"email",id:"email",value:u,onChange:s=>E(s.target.value),placeholder:"Email",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:l})}),e.jsx(n,{type:"password",id:"password",value:x,onChange:s=>q(s.target.value),placeholder:"Password",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:l})}),e.jsx(n,{type:"password",id:"passwordConfirmation",value:p,onChange:s=>F(s.target.value),placeholder:"Confirm Password",required:!0})]}),e.jsx(G,{type:"submit",color:"primary",className:"w-100",children:"Register"}),e.jsx(y,{className:"text-center",children:e.jsxs("p",{className:"mt-3",children:["Already have an account?"," ",e.jsx(U,{to:"/login",className:"text-primary",children:"Login here"})]})})]})})})})})})})};export{X as default};
