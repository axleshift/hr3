import{a as l}from"./index-OZHYTCeR.js";/*! js-cookie v3.0.5 | MIT */function f(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var p in s)e[p]=s[p]}return e}var v={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function d(e,o){function s(r,c,n){if(!(typeof document>"u")){n=f({},o,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var t in n)n[t]&&(i+="; "+t,n[t]!==!0&&(i+="="+n[t].split(";")[0]));return document.cookie=r+"="+e.write(c,r)+i}}function p(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var c=document.cookie?document.cookie.split("; "):[],n={},i=0;i<c.length;i++){var t=c[i].split("="),u=t.slice(1).join("=");try{var a=decodeURIComponent(t[0]);if(n[a]=e.read(u,a),r===a)break}catch{}}return r?n[r]:n}}return Object.create({set:s,get:p,remove:function(r,c){s(r,"",f({},c,{expires:-1}))},withAttributes:function(r){return d(this.converter,f({},this.attributes,r))},withConverter:function(r){return d(f({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(e)}})}var g=d(v,{path:"/"});const h=l.create({baseURL:"http://localhost:8000/api",withCredentials:!0});h.interceptors.response.use(e=>e,e=>(console.error(e),e.response&&e.response.status===401&&(g.remove("dcims"),sessionStorage.clear(),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)));export{h as a,g as b};
