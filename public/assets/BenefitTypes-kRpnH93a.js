import{r as o,j as e}from"./index-BE17hZRv.js";import{a as m}from"./api-b5EB9aEo.js";import{a,F as C,r as H,s as V,t as q}from"./index-DZu0FN0C.js";import{C as z,a as D}from"./CCardBody-D77FAhOK.js";import{C as I}from"./CCardHeader-CWsWfkQB.js";import{C as R,a as $,b as T,c as f,d as L,e as h}from"./CTable-D32VYvW9.js";import{C as B,a as g,b as E,c as v}from"./CModalTitle-QwMdlv-s.js";import{C as p}from"./CFormInput-P61gnO9f.js";import{C as w}from"./CModalFooter-BybXRAQu.js";import"./index-xsH4HHeE.js";import"./DefaultLayout-CWbSx2tv.js";import"./CFormControlWrapper-BidSriqe.js";const ee=()=>{const[i,l]=o.useState([]),[M,c]=o.useState(!1),[k,d]=o.useState(!1),[r,u]=o.useState({name:"",amount:""}),[t,j]=o.useState({id:null,name:"",amount:""});o.useEffect(()=>{S()},[]);const S=async()=>{try{const s=await m.get("/benefit-types");l(s.data)}catch(s){console.error("Error fetching benefit types:",s)}},y=s=>{const{name:n,value:x}=s.target;u({...r,[n]:x})},b=s=>{const{name:n,value:x}=s.target;j({...t,[n]:x})},N=async()=>{if(!r.name.trim()||!r.amount.trim()){alert("All fields are required");return}try{const s=await m.post("/benefit-types",r);l([...i,s.data]),c(!1),u({name:"",amount:""})}catch(s){console.error("Error creating benefit type:",s)}},A=async()=>{if(!t.name.trim()||!t.amount.trim()){alert("All fields are required");return}try{const s=await m.put(`/benefit-types/${t.id}`,t);l(i.map(n=>n.id===t.id?s.data:n)),d(!1)}catch(s){console.error("Error updating benefit type:",s)}},F=async s=>{try{await m.delete(`/benefit-types/${s}`),l(i.filter(n=>n.id!==s))}catch(n){console.error("Error deleting benefit type:",n)}};return e.jsxs(z,{children:[e.jsxs(I,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("strong",{children:"Benefit Type List"}),e.jsx(a,{color:"primary",onClick:()=>c(!0),children:e.jsx(C,{icon:H})})]}),e.jsx(D,{children:e.jsxs(R,{striped:!0,hover:!0,responsive:!0,children:[e.jsx($,{children:e.jsxs(T,{children:[e.jsx(f,{children:"#"}),e.jsx(f,{children:"Benefit Type"}),e.jsx(f,{children:"Amount"}),e.jsx(f,{children:"Actions"})]})}),e.jsx(L,{children:i.map((s,n)=>e.jsxs(T,{children:[e.jsx(h,{children:n+1}),e.jsx(h,{children:s.name}),e.jsx(h,{children:s.amount}),e.jsxs(h,{children:[e.jsx(a,{color:"info",size:"sm",className:"me-2",onClick:()=>{j(s),d(!0)},children:e.jsx(C,{icon:V})}),e.jsx(a,{color:"danger",size:"sm",onClick:()=>F(s.id),children:e.jsx(C,{icon:q})})]})]},s.id))})]})}),e.jsxs(B,{visible:M,onClose:()=>c(!1),children:[e.jsx(g,{children:e.jsx(E,{children:"Create New Benefit Type"})}),e.jsxs(v,{children:[e.jsx(p,{type:"text",name:"name",value:r.name,onChange:y,placeholder:"Enter benefit type name",className:"mb-3"}),e.jsx(p,{type:"number",name:"amount",value:r.amount,onChange:y,placeholder:"Enter amount"})]}),e.jsxs(w,{children:[e.jsx(a,{color:"secondary",onClick:()=>c(!1),children:"Close"}),e.jsx(a,{color:"primary",onClick:N,children:"Save"})]})]}),e.jsxs(B,{visible:k,onClose:()=>d(!1),children:[e.jsx(g,{children:e.jsx(E,{children:"Edit Benefit Type"})}),e.jsxs(v,{children:[e.jsx(p,{type:"text",name:"name",value:t.name,onChange:b,placeholder:"Enter benefit type name",className:"mb-3"}),e.jsx(p,{type:"number",name:"amount",value:t.amount,onChange:b,placeholder:"Enter amount"})]}),e.jsxs(w,{children:[e.jsx(a,{color:"secondary",onClick:()=>d(!1),children:"Close"}),e.jsx(a,{color:"primary",onClick:A,children:"Save Changes"})]})]})]})};export{ee as default};
