import{r as t,_ as A,R as k,a as S,c as F,P as C,j as e,C as R}from"./index-BregGavu.js";import{a as L}from"./axios-DXsv3KKR.js";import{C as E,a as I}from"./CCardBody--BWERNhg.js";import{C as P}from"./CCardHeader-BeNLNKIv.js";import{C as N}from"./CAlert-BFvSB2mm.js";import{C as M}from"./CForm-CaJJHpdi.js";import{C as v,a as h}from"./CRow-DCQtSTwn.js";import{C as V}from"./CFormSelect-CU7ZVpMm.js";import{b as T,C as q}from"./CFormInput-CLp7rr_o.js";import{a as w}from"./index-2GwXPYeC.js";var g=t.forwardRef(function(a,o){var r=a.children,d=a.className,n=a.feedback,c=a.feedbackInvalid,m=a.feedbackValid,u=a.floatingClassName,p=a.floatingLabel,l=a.id,i=a.invalid,f=a.label,x=a.plainText,s=a.text,j=a.tooltipFeedback,b=a.valid,y=A(a,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return k.createElement(T,{describedby:y["aria-describedby"],feedback:n,feedbackInvalid:c,feedbackValid:m,floatingClassName:u,floatingLabel:p,id:l,invalid:i,label:f,text:s,tooltipFeedback:j,valid:b},k.createElement("textarea",S({className:F(x?"form-control-plaintext":"form-control",{"is-invalid":i,"is-valid":b},d),id:l},y,{ref:o}),r))});g.propTypes=S({className:C.string,id:C.string,plainText:C.bool},T.propTypes);g.displayName="CFormTextarea";const Q=()=>{const[a,o]=t.useState(""),[r,d]=t.useState(""),[n,c]=t.useState(""),[m,u]=t.useState(!1),[p,l]=t.useState(""),[i,f]=t.useState(""),x=async s=>{if(s.preventDefault(),!a||!r||!n){l("Please fill in all fields.");return}const j={payrollId,adjustmentType:a,amount:r,reason:n};u(!0),l(""),f("");try{const b=await L.post("http://localhost:8000/api/payroll-adjustments",j);f("Adjustment added successfully."),o(""),d(""),c("")}catch{l("Error adding adjustment.")}finally{u(!1)}};return e.jsxs(E,{children:[e.jsx(P,{children:e.jsx("strong",{children:"Payroll Adjustment"})}),e.jsxs(I,{children:[p&&e.jsx(N,{color:"danger",children:p}),i&&e.jsx(N,{color:"success",children:i}),e.jsxs(M,{onSubmit:x,children:[e.jsx(v,{className:"mb-3",children:e.jsx(h,{sm:10,children:e.jsxs(V,{label:"Adjustment Type",value:a,onChange:s=>o(s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Adjustment Type"}),e.jsx("option",{value:"advance",children:"Advance"}),e.jsx("option",{value:"loan",children:"Loan"}),e.jsx("option",{value:"reimbursement",children:"Reimbursement"}),e.jsx("option",{value:"unpaid_leave",children:"Unpaid Leave"}),e.jsx("option",{value:"penalty",children:"Penalty"})]})})}),e.jsx(v,{className:"mb-3",children:e.jsx(h,{sm:10,children:e.jsx(q,{label:"Amount",type:"number",value:r,onChange:s=>d(s.target.value),required:!0})})}),e.jsx(v,{className:"mb-3",children:e.jsx(h,{sm:10,children:e.jsx(g,{label:"Reason",value:n,onChange:s=>c(s.target.value),required:!0})})}),e.jsx(w,{color:"primary",type:"submit",disabled:m,children:m?e.jsx(R,{size:"sm"}):"Submit Adjustment"})]})]})]})};export{Q as default};
