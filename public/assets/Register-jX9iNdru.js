import{r as a,u as U,j as e,L as k,a as B}from"./index-Bfb_ZLCW.js";import{C as G,F as r,f as w,a as l,b as T}from"./Compliance-D7h6e2q5.js";import{C as y,a as b}from"./CRow-M9WFZGyk.js";import{C as D,a as O}from"./CCardBody-JKaYCmnh.js";import{C as _}from"./CForm-C9GfJMfo.js";import{C as R}from"./CAlert-BDF1n2z3.js";import{C as t}from"./CInputGroup-BC4KEcU5.js";import{C as o}from"./CInputGroupText-DdeuzUNm.js";import{C as n}from"./CFormInput-D8KMZ8QI.js";import"./CFormControlWrapper-BQfuOqve.js";const Z=()=>{const[m,S]=a.useState(""),[d,E]=a.useState(""),[u,q]=a.useState(""),[x,F]=a.useState(""),[p,P]=a.useState(""),[h,c]=a.useState(""),[j,C]=a.useState(""),I=U(),L=async s=>{var g,f,N,v;s.preventDefault(),c(""),C("");try{const i=await B.post("/auth/register",{username:m,name:d,email:u,password:x,password_confirmation:p});C("Registration successful! Redirecting to login..."),setTimeout(()=>I("/login"),2e3)}catch(i){if((f=(g=i.response)==null?void 0:g.data)!=null&&f.errors){const A=Object.values(i.response.data.errors)[0][0];c(A)}else c(((v=(N=i.response)==null?void 0:N.data)==null?void 0:v.message)||"Registration failed. Please try again.")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(G,{children:e.jsx(y,{className:"justify-content-center",children:e.jsx(b,{md:7,lg:6,xl:6,children:e.jsx(D,{className:"mx-4",children:e.jsx(O,{className:"p-4",children:e.jsxs(_,{onSubmit:L,children:[e.jsx("h1",{className:"text-center",children:"Register"}),e.jsx("p",{className:"text-secondary text-center",children:"Create a new account"}),h&&e.jsx(R,{color:"danger",children:h}),j&&e.jsx(R,{color:"success",children:j}),e.jsxs(y,{children:[e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:w})}),e.jsx(n,{type:"text",id:"username",value:m,onChange:s=>S(s.target.value),placeholder:"Username",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:w})}),e.jsx(n,{type:"text",id:"name",value:d,onChange:s=>E(s.target.value),placeholder:"Full Name",required:!0})]})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:l})}),e.jsx(n,{type:"email",id:"email",value:u,onChange:s=>q(s.target.value),placeholder:"Email",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:l})}),e.jsx(n,{type:"password",id:"password",value:x,onChange:s=>F(s.target.value),placeholder:"Password",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:l})}),e.jsx(n,{type:"password",id:"passwordConfirmation",value:p,onChange:s=>P(s.target.value),placeholder:"Confirm Password",required:!0})]}),e.jsx(T,{type:"submit",color:"primary",className:"w-100",children:"Register"}),e.jsx(b,{className:"text-center",children:e.jsxs("p",{className:"mt-3",children:["Already have an account?"," ",e.jsx(k,{to:"/login",className:"text-primary",children:"Login here"})]})})]})})})})})})})};export{Z as default};
