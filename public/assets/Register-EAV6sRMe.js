import{r,i as U,j as e,L as k}from"./index-BE17hZRv.js";import{b as B,F as a,p as w,f as l,a as G}from"./index-DZu0FN0C.js";import{a as T}from"./api-b5EB9aEo.js";import{C as y,a as b}from"./CRow-CrtATQ_P.js";import{C as D,a as O}from"./CCardBody-D77FAhOK.js";import{C as _}from"./CForm-DnTuMTJV.js";import{C as R}from"./CAlert-CHmOWjoR.js";import{C as t}from"./CInputGroup-C1Zogh7F.js";import{C as o}from"./CInputGroupText-CyVIReVz.js";import{C as n}from"./CFormInput-P61gnO9f.js";import"./index-xsH4HHeE.js";import"./CFormControlWrapper-BidSriqe.js";const ee=()=>{const[m,S]=r.useState(""),[d,E]=r.useState(""),[u,q]=r.useState(""),[p,F]=r.useState(""),[x,P]=r.useState(""),[h,c]=r.useState(""),[j,C]=r.useState(""),I=U(),L=async s=>{var g,f,N,v;s.preventDefault(),c(""),C("");try{const i=await T.post("api/auth/register",{username:m,name:d,email:u,password:p,password_confirmation:x});C("Registration successful! Redirecting to login..."),setTimeout(()=>I("/login"),2e3)}catch(i){if((f=(g=i.response)==null?void 0:g.data)!=null&&f.errors){const A=Object.values(i.response.data.errors)[0][0];c(A)}else c(((v=(N=i.response)==null?void 0:N.data)==null?void 0:v.message)||"Registration failed. Please try again.")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(B,{children:e.jsx(y,{className:"justify-content-center",children:e.jsx(b,{md:7,lg:6,xl:6,children:e.jsx(D,{className:"mx-4",children:e.jsx(O,{className:"p-4",children:e.jsxs(_,{onSubmit:L,children:[e.jsx("h1",{className:"text-center",children:"Register"}),e.jsx("p",{className:"text-secondary text-center",children:"Create a new account"}),h&&e.jsx(R,{color:"danger",children:h}),j&&e.jsx(R,{color:"success",children:j}),e.jsxs(y,{children:[e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(a,{icon:w})}),e.jsx(n,{type:"text",id:"username",value:m,onChange:s=>S(s.target.value),placeholder:"Username",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(a,{icon:w})}),e.jsx(n,{type:"text",id:"name",value:d,onChange:s=>E(s.target.value),placeholder:"Full Name",required:!0})]})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(a,{icon:l})}),e.jsx(n,{type:"email",id:"email",value:u,onChange:s=>q(s.target.value),placeholder:"Email",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(a,{icon:l})}),e.jsx(n,{type:"password",id:"password",value:p,onChange:s=>F(s.target.value),placeholder:"Password",required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(a,{icon:l})}),e.jsx(n,{type:"password",id:"passwordConfirmation",value:x,onChange:s=>P(s.target.value),placeholder:"Confirm Password",required:!0})]}),e.jsx(G,{type:"submit",color:"primary",className:"w-100",children:"Register"}),e.jsx(b,{className:"text-center",children:e.jsxs("p",{className:"mt-3",children:["Already have an account?"," ",e.jsx(k,{to:"/login",className:"text-primary",children:"Login here"})]})})]})})})})})})})};export{ee as default};
