import{r as c,j as e,C as R}from"./index-CCQjMedi.js";import{e as t}from"./api-DtbWpsV7.js";import{C as i,a}from"./CRow-DNMWGK06.js";import{C as r,a as d}from"./CCardBody-CfIUcbl0.js";import{C as n}from"./CCardHeader-DSNy9un6.js";const E=()=>{const[o,h]=c.useState(!0),[s,u]=c.useState({activeEmployees:0,newLeaveRequests:0,approvedLeaveRequests:0,rejectedLeaveRequests:0,budget:0,paidPayroll:0,pendingPayroll:0});return c.useEffect(()=>{(async()=>{try{const[l,j,x,p,v,m,g]=await Promise.all([t.get("/employees/count"),t.get("/leave-requests/count?status=Pending"),t.get("/leave-requests/count?status=Approved"),t.get("/leave-requests/count?status=Rejected"),t.get("/budget"),t.get("/payrolls/count?status=Paid"),t.get("/payrolls/count?status=Pending")]);u({activeEmployees:l.data.count,newLeaveRequests:j.data.count,approvedLeaveRequests:x.data.count,rejectedLeaveRequests:p.data.count,budget:v.data.budget,paidPayroll:m.data.count,pendingPayroll:g.data.count})}catch(l){console.error("Error fetching dashboard data:",l)}finally{h(!1)}})()},[]),o?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:e.jsx(R,{color:"primary"})}):e.jsxs("div",{className:"container",children:[e.jsxs(i,{children:[e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"Active Employees"}),e.jsx(d,{children:e.jsx("h3",{children:s.activeEmployees})})]})}),e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"New Leave Requests"}),e.jsx(d,{children:e.jsx("h3",{children:s.newLeaveRequests})})]})}),e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"Approved Leave Requests"}),e.jsx(d,{children:e.jsx("h3",{children:s.approvedLeaveRequests})})]})}),e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"Rejected Leave Requests"}),e.jsx(d,{children:e.jsx("h3",{children:s.rejectedLeaveRequests})})]})})]}),e.jsxs(i,{className:"mt-4",children:[e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"Budget"}),e.jsx(d,{children:e.jsxs("h3",{children:["$",s.budget]})})]})}),e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"Paid Payroll"}),e.jsx(d,{children:e.jsx("h3",{children:s.paidPayroll})})]})}),e.jsx(a,{md:3,children:e.jsxs(r,{children:[e.jsx(n,{children:"Pending Payroll"}),e.jsx(d,{children:e.jsx("h3",{children:s.pendingPayroll})})]})})]})]})};export{E as default};
