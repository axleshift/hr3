import{r as i,i as v,j as e,C,R as y}from"./index-BeQK1wQz.js";import{a as S}from"./api-b5EB9aEo.js";import{C as w,a as B}from"./CCardBody-DMZ2Z-Eu.js";import{C as I}from"./CCardHeader-CrwSQ86I.js";import{C as b,a as A,b as o,c as n,d as N,e as a}from"./CTable-BsqVm3QY.js";import{a as d}from"./DefaultLayout-Bv7Siwyk.js";import"./index-xsH4HHeE.js";import"./index-DK7okQj2.js";const G=()=>{const[T,j]=i.useState([]),[h,u]=i.useState({}),[p,x]=i.useState(!1),[m,g]=i.useState(null);v(),i.useEffect(()=>{(async()=>{try{x(!0);const s=await S.get("/benefits?status=Inactive");j(s.data);const l=s.data.reduce((r,t)=>(r[t.employeeId]||(r[t.employeeId]=[]),r[t.employeeId].push(t),r),{});u(l)}catch(s){console.error("Error fetching archived benefits:",s),g("Failed to fetch archived benefits.")}finally{x(!1)}})()},[]);const f=c=>{switch(c){case"Active":return e.jsx(d,{color:"success",children:"Active"});case"Inactive":return e.jsx(d,{color:"danger",children:"Inactive"});default:return e.jsx(d,{color:"secondary",children:"Unknown"})}};return e.jsxs("div",{children:[p&&e.jsx("div",{className:"loading-overlay",children:e.jsx(C,{color:"primary",variant:"grow"})}),e.jsxs(w,{children:[e.jsx(I,{className:"d-flex justify-content-between align-items-center flex-wrap gap-2",children:e.jsx("strong",{children:"Archived Benefits"})}),e.jsxs(B,{children:[m&&e.jsx("div",{className:"alert alert-danger mb-3",children:m}),e.jsxs(b,{hover:!0,responsive:!0,children:[e.jsx(A,{children:e.jsxs(o,{children:[e.jsx(n,{children:"ID"}),e.jsx(n,{children:"Employee ID"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Benefit Type"}),e.jsx(n,{children:"Amount"}),e.jsx(n,{children:"Status"})]})}),e.jsx(N,{children:Object.keys(h).length===0?e.jsx(o,{children:e.jsx(a,{colSpan:7,className:"text-center",children:"No archived benefits found"})}):Object.entries(h).map(([c,s],l)=>e.jsx(y.Fragment,{children:s.map((r,t)=>e.jsxs(o,{children:[t===0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{rowSpan:s.length,children:l+1}),e.jsx(a,{rowSpan:s.length,children:r.employeeId}),e.jsx(a,{rowSpan:s.length,children:r.name})]}),e.jsx(a,{children:r.type}),e.jsxs(a,{children:["â‚±",parseFloat(r.amount).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx(a,{children:f(r.status)})]},r.id))},c))})]})]})]})]})};export{G as default};
