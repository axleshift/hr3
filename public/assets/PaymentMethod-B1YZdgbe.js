import{r,j as e}from"./index-BregGavu.js";import{a as j}from"./axios-DXsv3KKR.js";import{C,a as N}from"./CCardBody--BWERNhg.js";import{C as g}from"./CCardHeader-BeNLNKIv.js";import{C as v}from"./CForm-CaJJHpdi.js";import{C as l,a as c}from"./CRow-DCQtSTwn.js";import{C as f}from"./CFormInput-CLp7rr_o.js";import{a as S}from"./index-2GwXPYeC.js";const D=()=>{const[a,i]=r.useState(""),[s,u]=r.useState(""),[d,o]=r.useState(""),[n,h]=r.useState({name:"",paymentMethod:"",accountNumber:""}),[p,x]=r.useState(!1),y=async t=>{if(t.preventDefault(),!a){o("Please select a payment method");return}if(a==="Bank Transfer"&&!s){o("Account number is required for Bank Transfer");return}const b={...n,paymentMethod:a,accountNumber:s};x(!0),o("");try{const m=await j.post("http://localhost:8000/api/addpayroll",b);console.log("Form data submitted successfully:",m.data),h({name:"",paymentMethod:"",accountNumber:""}),i(""),u("")}catch(m){o("An error occurred while submitting the form"),console.error("Error:",m)}finally{x(!1)}};return e.jsxs(C,{children:[e.jsx(g,{children:e.jsx("h4",{children:"Payment Method Form"})}),e.jsx(N,{children:e.jsxs(v,{onSubmit:y,children:[e.jsx(l,{className:"mb-3",children:e.jsx(c,{sm:10,children:e.jsx(f,{label:"Employee Name",type:"text",name:"name",id:"name",value:n.name,onChange:t=>h({...n,name:t.target.value}),required:!0})})}),e.jsx(l,{className:"mb-3",children:e.jsx(c,{sm:10,children:e.jsxs("select",{label:"Payment Method",id:"paymentMethod",value:a,onChange:t=>i(t.target.value),required:!0,className:"form-control",children:[e.jsx("option",{value:"",children:"Select a payment method"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"E-Wallet",children:"E-Wallet"})]})})}),e.jsx(l,{className:"mb-3",children:e.jsx(c,{sm:10,children:e.jsx(f,{type:"text",label:"Account Number",name:"accountNumber",id:"accountNumber",value:s,onChange:t=>u(t.target.value),required:a==="Bank Transfer"})})}),d&&e.jsx("div",{style:{color:"red"},children:d}),e.jsx(S,{type:"submit",color:"primary",disabled:p,children:p?"Submitting...":"Submit"})]})})]})};export{D as default};
