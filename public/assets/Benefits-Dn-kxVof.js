import{r as s,j as e,y as I}from"./index-Y44Ldxrt.js";import{C as h,a as f}from"./CRow-BZ_9_XYM.js";import{C as T,a as F}from"./CCardBody-CBtb8McC.js";import{C as R}from"./CCardHeader-uNRxC_5E.js";import{C as c,a as d}from"./CInputGroupText-B7ae_Uws.js";import{C as N}from"./CFormInput-CAbFzxsM.js";import{C as _}from"./CFormSelect-BS2OFBr_.js";import{a as E}from"./index-BrEmiYF0.js";import"./CFormControlWrapper-mr0PDOF2.js";const U=()=>{const[l,x]=s.useState(""),[j,m]=s.useState(""),[C,u]=s.useState(""),[y,p]=s.useState(""),[v,i]=s.useState(!1),[b,o]=s.useState(null),g="http://127.0.0.1:8000/api/benefits",D=async()=>{var n,a,B;i(!0),o(null);const t={employee_name:j,benefit_type:C,status:y};try{const r=await I.post(g,t);console.log("Success:",r.data),alert("Benefit saved successfully!"),S()}catch(r){console.error("Error:",((n=r.response)==null?void 0:n.data)||r.message),o(((B=(a=r.response)==null?void 0:a.data)==null?void 0:B.error)||"Failed to submit data.")}finally{i(!1)}};s.useEffect(()=>{if(!l)return;(async()=>{i(!0);try{const a=(await I.get(`${g}/${l}`)).data;m(a.employee_name),u(a.benefit_type),p(a.status)}catch(n){console.error("Fetch error:",n),o("Error fetching benefit details.")}finally{i(!1)}})()},[l]);const S=()=>{x(""),m(""),u(""),p(""),o(null)};return e.jsx(h,{children:e.jsx(f,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(R,{children:e.jsx("strong",{children:"Employee Benefits"})}),e.jsxs(F,{children:[b&&e.jsx("p",{style:{color:"red"},children:b}),e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{children:"Benefit ID:"}),e.jsx(N,{disabled:!0,placeholder:"Auto-generated",value:l,onChange:t=>x(t.target.value)})]}),e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{children:"Employee Name:"}),e.jsx(N,{placeholder:"Enter employee name",value:j,onChange:t=>m(t.target.value)})]}),e.jsx(h,{children:e.jsx(f,{md:6,children:e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{children:"Benefit Type:"}),e.jsxs(_,{value:C,onChange:t=>u(t.target.value),children:[e.jsx("option",{value:"",children:"Select benefit type"}),e.jsx("option",{value:"health_insurance",children:"Health Insurance"}),e.jsx("option",{value:"dental_insurance",children:"Dental Insurance"}),e.jsx("option",{value:"life_insurance",children:"Life Insurance"}),e.jsx("option",{value:"retirement_plan",children:"Retirement Plan"}),e.jsx("option",{value:"paid_time_off",children:"Paid Time Off"})]})]})})}),e.jsx(h,{children:e.jsx(f,{md:6,children:e.jsxs(c,{className:"mb-3",children:[e.jsx(d,{children:"Status:"}),e.jsxs(_,{value:y,onChange:t=>p(t.target.value),children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})})}),e.jsxs("div",{className:"d-flex justify-content-center",children:[e.jsx(E,{className:"mb-2 me-2",color:"primary",variant:"outline",onClick:D,disabled:v,children:v?"Submitting...":"Submit"}),e.jsx(E,{className:"mb-2",color:"primary",variant:"outline",onClick:S,children:"Clear"})]})]})]})})})};export{U as default};
