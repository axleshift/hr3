import{r as o,_ as p,R as l,a as m,c as v,P as n}from"./index-DGujkbU5.js";import{u as le,T as te,q as re}from"./index-CYEoKyyE.js";import{e as j,f as ae}from"./DefaultLayout-COsJWrQ1.js";var E=o.forwardRef(function(e,i){var t=e.children,s=e.className,a=p(e,["children","className"]);return l.createElement("div",m({className:v("modal-content",s)},a,{ref:i}),t)});E.propTypes={children:n.node,className:n.string};E.displayName="CModalContent";var k=o.forwardRef(function(e,i){var t,s=e.children,a=e.alignment,d=e.className,c=e.fullscreen,f=e.scrollable,b=e.size,y=p(e,["children","alignment","className","fullscreen","scrollable","size"]);return l.createElement("div",m({className:v("modal-dialog",(t={"modal-dialog-centered":a==="center"},t[typeof c=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(c,"-down")]=c,t["modal-dialog-scrollable"]=f,t["modal-".concat(b)]=b,t),d)},y,{ref:i}),s)});k.propTypes={alignment:n.oneOf(["top","center"]),children:n.node,className:n.string,fullscreen:n.oneOfType([n.bool,n.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:n.bool,size:n.oneOf(["sm","lg","xl"])};k.displayName="CModalDialog";var q=o.createContext({}),I=o.forwardRef(function(e,i){var t=e.children,s=e.alignment,a=e.backdrop,d=a===void 0?!0:a,c=e.className,f=e.container,b=e.duration,y=b===void 0?150:b,x=e.focus,J=x===void 0?!0:x,Q=e.fullscreen,w=e.keyboard,U=w===void 0?!0:w,W=e.onClose,R=e.onClosePrevented,X=e.onShow,O=e.portal,T=O===void 0?!0:O,Y=e.scrollable,Z=e.size,M=e.transition,C=M===void 0?!0:M,P=e.unmountOnClose,$=P===void 0?!0:P,N=e.visible,_=p(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),B=o.useRef(null),h=o.useRef(null),ee=o.useRef(null),ne=le(i,h),z=o.useState(N),u=z[0],g=z[1],L=o.useState(!1),S=L[0],V=L[1],oe={visible:u,setVisible:g};o.useEffect(function(){g(N)},[N]),o.useEffect(function(){var r;return u?(B.current=document.activeElement,document.addEventListener("mouseup",F),document.addEventListener("keydown",H)):(r=B.current)===null||r===void 0||r.focus(),function(){document.removeEventListener("mouseup",F),document.removeEventListener("keydown",H)}},[u]);var D=function(){if(d==="static")return V(!0);g(!1)};o.useLayoutEffect(function(){R&&R(),setTimeout(function(){return V(!1)},y)},[S]),o.useLayoutEffect(function(){return u?(document.body.classList.add("modal-open"),d&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var r;J&&((r=h.current)===null||r===void 0||r.focus())},C?y:0)):(document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[u]);var F=function(r){h.current&&h.current==r.target&&D()},H=function(r){r.key==="Escape"&&U&&D()};return l.createElement(l.Fragment,null,l.createElement(te,{in:u,mountOnEnter:!0,nodeRef:h,onEnter:X,onExit:W,unmountOnExit:$,timeout:C?y:0},function(r){return l.createElement(j,{container:f,portal:T},l.createElement(q.Provider,{value:oe},l.createElement("div",m({className:v("modal",{"modal-static":S,fade:C,show:r==="entered"},c),tabIndex:-1},u?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:m({},r!=="exited"&&{display:"block"})},_,{ref:ne}),l.createElement(k,{alignment:s,fullscreen:Q,scrollable:Y,size:Z},l.createElement(E,{ref:ee},t)))))}),d&&l.createElement(j,{container:f,portal:T},l.createElement(ae,{visible:u})))});I.propTypes={alignment:n.oneOf(["top","center"]),backdrop:n.oneOfType([n.bool,n.oneOf(["static"])]),children:n.node,className:n.string,container:n.any,duration:n.number,focus:n.bool,fullscreen:n.oneOfType([n.bool,n.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:n.bool,onClose:n.func,onClosePrevented:n.func,onShow:n.func,portal:n.bool,scrollable:n.bool,size:n.oneOf(["sm","lg","xl"]),transition:n.bool,unmountOnClose:n.bool,visible:n.bool};I.displayName="CModal";var K=o.forwardRef(function(e,i){var t=e.children,s=e.className,a=p(e,["children","className"]);return l.createElement("div",m({className:v("modal-body",s)},a,{ref:i}),t)});K.propTypes={children:n.node,className:n.string};K.displayName="CModalBody";var A=o.forwardRef(function(e,i){var t=e.children,s=e.className,a=e.closeButton,d=a===void 0?!0:a,c=p(e,["children","className","closeButton"]),f=o.useContext(q).setVisible;return l.createElement("div",m({className:v("modal-header",s)},c,{ref:i}),t,d&&l.createElement(re,{onClick:function(){return f(!1)}}))});A.propTypes={children:n.node,className:n.string,closeButton:n.bool};A.displayName="CModalHeader";var G=o.forwardRef(function(e,i){var t=e.children,s=e.as,a=s===void 0?"h5":s,d=e.className,c=p(e,["children","as","className"]);return l.createElement(a,m({className:v("modal-title",d)},c,{ref:i}),t)});G.propTypes={as:n.elementType,children:n.node,className:n.string};G.displayName="CModalTitle";export{I as C,A as a,G as b,K as c};
