import{i as g,r as x,j as e,L as w}from"./index-BregGavu.js";import{b as y,F as n,f as N,q as v,c as b,r as _,a as R}from"./index-2GwXPYeC.js";import{a as q}from"./axios-DXsv3KKR.js";import{C as E,a as u}from"./CRow-DCQtSTwn.js";import{C as F,a as S}from"./CCardBody--BWERNhg.js";import{C as I}from"./CForm-CaJJHpdi.js";import{C as i}from"./CInputGroup-B1ALbDtP.js";import{C as c}from"./CInputGroupText-sUutiNQR.js";import{C as l}from"./CFormInput-CLp7rr_o.js";import{C as m}from"./CAlert-BFvSB2mm.js";const H=()=>{const j=g(),[a,f]=x.useState({name:"",email:"",password:"",password_confirmation:""}),[s,d]=x.useState({}),[L,h]=x.useState(""),t=p=>{const{name:o,value:r}=p.target;f({...a,[o]:r}),s[o]&&d({...s,[o]:""})},C=async p=>{var o;if(p.preventDefault(),a.password!==a.password_confirmation){d({...s,password_confirmation:"Passwords do not match."});return}try{const r=await q.post("http://localhost:8000/api/register",a);h(r.data.message),console.log(r.data.user),j("/login")}catch(r){((o=r.response)==null?void 0:o.status)===422?d(r.response.data.errors||{}):(h("Registration failed. Please try again."),console.error(r))}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(y,{children:e.jsx(E,{className:"justify-content-center",children:e.jsx(u,{md:5,lg:5,xl:5,children:e.jsx(F,{className:"mx-4",children:e.jsx(S,{className:"p-4",children:e.jsxs(I,{onSubmit:C,children:[e.jsx("h1",{className:"text-center",children:"Register"}),e.jsx("p",{className:"text-secondary text-center",children:"Create your account"}),e.jsxs(i,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(n,{icon:N})}),e.jsx(l,{type:"text",name:"name",placeholder:"Name",value:a.name,onChange:t,required:!0})]}),s.lastName&&e.jsx(m,{color:"danger",children:s.name}),e.jsxs(i,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(n,{icon:v})}),e.jsx(l,{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:t,required:!0})]}),s.email&&e.jsx(m,{color:"danger",children:s.email}),e.jsxs(i,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(n,{icon:b})}),e.jsx(l,{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:t,required:!0})]}),s.password&&e.jsx(m,{color:"danger",children:s.password}),e.jsxs(i,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(n,{icon:_})}),e.jsx(l,{type:"password",name:"password_confirmation",placeholder:"Repeat Password",value:a.password_confirmation,onChange:t,required:!0})]}),s.password_confirmation&&e.jsx(m,{color:"danger",children:s.password_confirmation}),e.jsx(R,{type:"submit",color:"primary",className:"w-100",children:"Create an account"}),e.jsx(u,{className:"text-center",children:e.jsxs("p",{className:"mt-3",children:["Already have an account?"," ",e.jsx(w,{to:"/login",className:"text-primary",children:"Login here"})]})})]})})})})})})})};export{H as default};
