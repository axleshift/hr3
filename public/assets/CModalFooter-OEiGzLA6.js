import{r as n,_ as b,R as r,a as u,c as y,P as o}from"./index-BregGavu.js";import{C as K,a as oe}from"./DefaultLayout-CNKZtyqM.js";import{u as ne,T as le}from"./index-2GwXPYeC.js";var k=n.forwardRef(function(e,s){var t=e.children,i=e.className,a=b(e,["children","className"]);return r.createElement("div",u({className:y("modal-content",i)},a,{ref:s}),t)});k.propTypes={children:o.node,className:o.string};k.displayName="CModalContent";var x=n.forwardRef(function(e,s){var t,i=e.children,a=e.alignment,d=e.className,m=e.fullscreen,g=e.scrollable,f=e.size,v=b(e,["children","alignment","className","fullscreen","scrollable","size"]);return r.createElement("div",u({className:y("modal-dialog",(t={"modal-dialog-centered":a==="center"},t[typeof m=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(m,"-down")]=m,t["modal-dialog-scrollable"]=g,t["modal-".concat(f)]=f,t),d)},v,{ref:s}),i)});x.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};x.displayName="CModalDialog";var re=n.createContext({}),q=n.forwardRef(function(e,s){var t=e.children,i=e.alignment,a=e.backdrop,d=a===void 0?!0:a,m=e.className,g=e.container,f=e.duration,v=f===void 0?150:f,w=e.focus,H=w===void 0?!0:w,J=e.fullscreen,O=e.keyboard,Q=O===void 0?!0:O,h=e.onClose,R=e.onClosePrevented,U=e.onShow,T=e.portal,P=T===void 0?!0:T,W=e.scrollable,X=e.size,M=e.transition,C=M===void 0?!0:M,z=e.unmountOnClose,Y=z===void 0?!0:z,N=e.visible,Z=b(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),L=n.useRef(null),p=n.useRef(null),$=n.useRef(null),_=ne(s,p),S=n.useState(N),c=S[0],E=S[1],B=n.useState(!1),D=B[0],F=B[1],ee={visible:c,setVisible:E};n.useEffect(function(){E(N)},[N]),n.useEffect(function(){var l;return c?(L.current=document.activeElement,document.addEventListener("mouseup",j),document.addEventListener("keydown",I)):(l=L.current)===null||l===void 0||l.focus(),function(){document.removeEventListener("mouseup",j),document.removeEventListener("keydown",I)}},[c]);var V=function(){return d==="static"?F(!0):(E(!1),h&&h())};n.useLayoutEffect(function(){R&&R(),setTimeout(function(){return F(!1)},v)},[D]),n.useLayoutEffect(function(){return c?(document.body.classList.add("modal-open"),d&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var l;H&&((l=p.current)===null||l===void 0||l.focus())},C?v:0)):(document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[c]);var j=function(l){p.current&&p.current==l.target&&V()},I=function(l){l.key==="Escape"&&Q&&V()};return r.createElement(r.Fragment,null,r.createElement(le,{in:c,mountOnEnter:!0,nodeRef:p,onEnter:U,onExit:h,unmountOnExit:Y,timeout:C?v:0},function(l){return r.createElement(K,{container:g,portal:P},r.createElement(re.Provider,{value:ee},r.createElement("div",u({className:y("modal",{"modal-static":D,fade:C,show:l==="entered"},m),tabIndex:-1},c?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:u({},l!=="exited"&&{display:"block"})},Z,{ref:_}),r.createElement(x,{alignment:i,fullscreen:J,scrollable:W,size:X},r.createElement(k,{ref:$},t)))))}),d&&r.createElement(K,{container:g,portal:P},r.createElement(oe,{visible:c})))});q.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,container:o.any,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};q.displayName="CModal";var A=n.forwardRef(function(e,s){var t=e.children,i=e.className,a=b(e,["children","className"]);return r.createElement("div",u({className:y("modal-body",i)},a,{ref:s}),t)});A.propTypes={children:o.node,className:o.string};A.displayName="CModalBody";var G=n.forwardRef(function(e,s){var t=e.children,i=e.className,a=b(e,["children","className"]);return r.createElement("div",u({className:y("modal-footer",i)},a,{ref:s}),t)});G.propTypes={children:o.node,className:o.string};G.displayName="CModalFooter";export{q as C,A as a,G as b};
